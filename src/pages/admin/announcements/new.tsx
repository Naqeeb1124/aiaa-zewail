import { useState } from 'react';import { db } from '../../../lib/firebase';import { collection, addDoc, serverTimestamp } from 'firebase/firestore';import AdminGuard from '../../../components/AdminGuard';import Navbar from '../../../components/Navbar';import { useRouter } from 'next/router';export default function NewAnnouncement() {    const router = useRouter();    const [title, setTitle] = useState('');    const [content, setContent] = useState('');    const [imageUrl, setImageUrl] = useState('');    const [loading, setLoading] = useState(false);    const handleSubmit = async (e: React.FormEvent) => {        e.preventDefault();        setLoading(true);        try {            await addDoc(collection(db, 'announcements'), {                title,                content,                imageUrl,                createdAt: serverTimestamp(),            });            router.push('/admin/announcements');        } catch (error) {            console.error("Error creating announcement:", error);            alert('Failed to create announcement');        } finally {            setLoading(false);        }    };    return (        <AdminGuard>            <div className="min-h-screen bg-slate-900 text-white">                <Navbar />                <div className="pt-32 px-6 max-w-3xl mx-auto">                    <h1 className="text-3xl font-bold mb-8">Post New Announcement</h1>                    <form onSubmit={handleSubmit} className="bg-slate-800 p-8 rounded-2xl border border-slate-800 space-y-6">                        <div>                            <label className="block text-slate-400 mb-2">Title</label>                            <input                                type="text"                                value={title}                                onChange={(e) => setTitle(e.target.value)}                                className="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-blue-500 outline-none"                                required                                placeholder="e.g., General Meeting This Thursday"                            />                        </div>                        <div>                            <label className="block text-slate-400 mb-2">Content</label>                            <textarea                                value={content}                                onChange={(e) => setContent(e.target.value)}                                className="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-blue-500 outline-none h-40"                                required                                placeholder="Write your announcement here..."                            />                        </div>                        <div>                            <label className="block text-slate-400 mb-2">Image URL (Optional)</label>                            <input                                type="text"                                value={imageUrl}                                onChange={(e) => setImageUrl(e.target.value)}                                className="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-blue-500 outline-none"                                placeholder="https://example.com/image.jpg"                            />                        </div>                        <div className="flex justify-end gap-4 pt-4">                            <button                                type="button"                                onClick={() => router.back()}                                className="px-6 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors"                            >                                Cancel                            </button>                            <button                                type="submit"                                disabled={loading}                                className="px-8 py-2 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-500 transition-colors disabled:opacity-50"                            >                                {loading ? 'Posting...' : 'Post Announcement'}                            </button>                        </div>                    </form>                </div>            </div>        </AdminGuard>    );}